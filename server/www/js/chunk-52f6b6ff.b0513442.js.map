{"version":3,"sources":["webpack:///./src/views/goods/Manage.vue?dec0","webpack:///./src/views/goods/Manage.vue?6031","webpack:///src/views/goods/Manage.vue","webpack:///./src/views/goods/Manage.vue?c8c2","webpack:///./src/views/goods/Manage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","visible","staticClass","_v","directives","name","rawName","value","expression","attrs","domProps","on","$event","target","composing","num","img","price","store","buynum","detail","submitAction","cancel","addAction","columns","data","scopedSlots","_u","key","fn","text","_s","record","onDelete","_e","staticRenderFns","children","obj","editingKey","created","methods","getData","$axios","get","console","log","post","alert","id","component"],"mappings":"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","file":"js/chunk-52f6b6ff.b0513442.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manage.vue?vue&type=style&index=0&id=5aecea02&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manage.vue?vue&type=style&index=0&id=5aecea02&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.visible)?_c('div',[_c('button',{staticClass:\"add-btn\",on:{\"click\":_vm.addAction}},[_vm._v(\"添加\")]),_c('a-table',{attrs:{\"columns\":_vm.columns,\"data-source\":_vm.data,\"bordered\":\"\"},scopedSlots:_vm._u([{key:\"name\",fn:function(text){return [_c('a',[_vm._v(_vm._s(text))])]}},{key:\"operation\",fn:function(text, record){return [(_vm.data.length)?_c('a-popconfirm',{attrs:{\"title\":\"Sure to delete?\"},on:{\"confirm\":function () { return _vm.onDelete(record); }}},[_c('a',{attrs:{\"href\":\"javascript:;\"}},[_vm._v(\"删除\")])]):_vm._e()]}}],null,false,968450077)})],1):_c('div',{staticClass:\"from\"},[_c('p',[_vm._v(\"商品编号：\"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.num),expression:\"num\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.num)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.num=$event.target.value}}})]),_c('p',[_vm._v(\"商品图：\"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.img),expression:\"img\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.img)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.img=$event.target.value}}})]),_c('p',[_vm._v(\"商品名称：\"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}})]),_c('p',[_vm._v(\"价格：\"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.price),expression:\"price\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.price)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.price=$event.target.value}}})]),_c('p',[_vm._v(\"库存：\"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.store),expression:\"store\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.store)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.store=$event.target.value}}})]),_c('p',[_vm._v(\"销量：\"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.buynum),expression:\"buynum\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.buynum)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.buynum=$event.target.value}}})]),_c('p',{staticClass:\"detail\"},[_vm._v(\"商品详情：\"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.detail),expression:\"detail\"}],attrs:{\"name\":\"\",\"id\":\"\",\"cols\":\"30\",\"rows\":\"10\"},domProps:{\"value\":(_vm.detail)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.detail=$event.target.value}}})]),_c('p',[_c('button',{on:{\"click\":_vm.submitAction}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div>\r\n  <div v-if=\"!visible\">\r\n    <button @click=\"addAction\" class=\"add-btn\">添加</button>\r\n    <a-table :columns=\"columns\" :data-source=\"data\" bordered>\r\n      <template slot=\"name\" slot-scope=\"text\">\r\n        <a>{{ text }}</a>\r\n      </template>\r\n      <!-- <div slot=\"operation\">\r\n        <button @click=\"updataAction\">编辑</button>\r\n        <button @click=\"delAction(dataIndex)\">删除</button>\r\n      </div> -->\r\n      <template slot=\"operation\" slot-scope=\"text, record\">\r\n        <a-popconfirm\r\n          v-if=\"data.length\"\r\n          title=\"Sure to delete?\"\r\n          @confirm=\"() => onDelete(record)\"\r\n        >\r\n          <a href=\"javascript:;\">删除</a>\r\n        </a-popconfirm>\r\n      </template>\r\n    </a-table>\r\n  </div>\r\n  <div class=\"from\" v-else>\r\n    <p>商品编号：<input type=\"text\" v-model=\"num\"></p>\r\n    <p>商品图：<input type=\"text\" v-model=\"img\"></p>\r\n    <p>商品名称：<input type=\"text\" v-model=\"name\"></p>\r\n    <p>价格：<input type=\"text\" v-model=\"price\"></p>\r\n    <p>库存：<input type=\"text\" v-model=\"store\"></p>\r\n    <p>销量：<input type=\"text\" v-model=\"buynum\"></p>\r\n    <p class=\"detail\">商品详情：<textarea name=\"\" id=\"\" cols=\"30\" rows=\"10\" v-model=\"detail\"></textarea></p>\r\n    <p><button @click=\"submitAction\">提交</button> <button @click=\"cancel\">取消</button></p>\r\n  </div>\r\n \r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { Table,Pagination,Popconfirm } from 'ant-design-vue'\r\nconst renderContent = (value, row, index) => {\r\n  const obj = {\r\n    children: value,\r\n    attrs: {}\r\n  };\r\n  return obj;\r\n};\r\n\r\n// const data = [\r\n//   {\r\n//     key: '1',\r\n//     num: '01',\r\n//     img: 32,\r\n//     name: '小明',\r\n//     price: 11,\r\n//     store: 12,\r\n//     buynum:10\r\n//   }\r\n// ];\r\n\r\nexport default {\r\n   components: {\r\n     [Table.name] : Table,\r\n     [Pagination.name]: Pagination,\r\n     [Popconfirm.name]:Popconfirm\r\n  },\r\n  data() {\r\n    const columns = [\r\n      {\r\n        title: '商品编号',\r\n        dataIndex: 'num',\r\n        customRender: (text, row, index) => {\r\n            return <a href=\"javascript:;\">{text}</a>;\r\n        },\r\n      },\r\n      {\r\n        title: '商品图',\r\n        dataIndex: 'img',\r\n        customRender: (text)=>{\r\n          return <img src={text} width=\"40px\"/>\r\n        },\r\n      },\r\n      {\r\n        title: '商品名称',\r\n        dataIndex: 'name',\r\n        customRender: renderContent,\r\n      },\r\n      {\r\n        title: '价格',\r\n        dataIndex: 'price',\r\n        customRender: renderContent,\r\n      },\r\n      {\r\n        title: '库存',\r\n        dataIndex: 'store',\r\n        customRender: renderContent,\r\n      },\r\n      {\r\n        title: '销量',\r\n        dataIndex: 'buynum',\r\n        customRender: renderContent,\r\n      },\r\n      { title: '操作', key: 'operation', scopedSlots: { customRender: 'operation' } },\r\n    ];\r\n    return {\r\n      data: [],\r\n      columns,\r\n      visible:false,\r\n      num: '',\r\n      img: '//img12.360buyimg.com/mobilecms/s372x372_jfs/t1/9953/3/13380/93013/5c443b5eE311a22f6/227e53f664231e09.jpg!q70.dpg.webp',\r\n      name: '',\r\n      price: '300',\r\n      store: '10',\r\n      buynum:'200',\r\n      detail: '米兰艺 北欧后现代轻奢客厅吊灯个性创意led卧室灯具简约现代圆形环形工程定制餐厅吊灯',\r\n      editingKey: '',\r\n    };\r\n  },\r\n  created(){\r\n   this.getData()\r\n  },\r\n  methods: {\r\n    getData() {\r\n      this.$axios.get('/api/goods/goodsTest')\r\n        .then(data=>{\r\n          let newData = data.data.list.map((item,index)=>{\r\n            return {\r\n              key: `${index}`,\r\n              num:item.num,\r\n              img:item.img,\r\n              name:item.name,\r\n              price:item.price,\r\n              store:item.store,\r\n              buynum:item.buynum,\r\n              id: item._id\r\n            }\r\n          })\r\n          // console.log(newData)\r\n          this.data = newData\r\n        })\r\n    },\r\n    addAction() {\r\n      this.visible = true\r\n      console.log(111)\r\n    },\r\n    cancel() {\r\n      this.visible = false\r\n    },\r\n    submitAction(){\r\n      this.$axios.post('/api/goods/goodsTest',{\r\n        num:this.num,\r\n        img:this.img,\r\n        name:this.name,\r\n        price:this.price,\r\n        store:this.store,\r\n        buynum:this.buynum,\r\n        detail:this.detail\r\n      }).then(data=>{\r\n        if(data.data.code === 0){\r\n          alert('添加成功')\r\n          this.$router.replace({name:'home'})\r\n        }\r\n      })\r\n\r\n    },\r\n    onDelete(key) {\r\n      let {id} = key\r\n      this.$axios.post('/api/goods/delGoodsTest',{\r\n        id\r\n      }).then(res => {\r\n        this.getData()\r\n      })\r\n\r\n      // this.data = data.filter(item => item.key !== key);\r\n\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.add-btn {\r\n  margin-bottom: 10px;\r\n  width: 100px;\r\n  height: 30px;\r\n  cursor: pointer;\r\n  text-align: center;\r\n  line-height: 30px;\r\n}\r\n.from {\r\n  input {\r\n    width: 30%;\r\n    height: 30px;\r\n    border: 1px solid #ccc;\r\n  }\r\n  .detail{\r\n    textarea {\r\n      vertical-align: top;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n\r\n\r\n ","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Manage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Manage.vue?vue&type=template&id=5aecea02&scoped=true&\"\nimport script from \"./Manage.vue?vue&type=script&lang=js&\"\nexport * from \"./Manage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Manage.vue?vue&type=style&index=0&id=5aecea02&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5aecea02\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}