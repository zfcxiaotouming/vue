(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["details"],{"0d45":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"back",on:{click:function(e){return t.$router.back()}}},[t._v("返回")]),o("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white"}},t._l(3,(function(e){return o("van-swipe-item",{key:e},[o("img",{staticClass:"swiper-img",attrs:{src:t.details.img,alt:""}})])})),1),o("div",{staticClass:"goods-info"},[o("div",{staticClass:"name"},[t._v(" "+t._s(t.details.name)+" ")]),o("div",{staticClass:"desc"},[t._v(" 商品描述 ")]),o("div",{staticClass:"price-oldprice"},[o("div",{staticClass:"price-box"},[o("div",{staticClass:"price"},[t._v("￥"),o("span",[t._v(t._s(t.details.price))])]),t.details.oldPrice?o("div",{staticClass:"old-price"},[t._v("￥"),o("span",[t._v(t._s(t.details.oldPrice))])]):t._e()]),o("div",{staticClass:"order-num"},[t._v(t._s(t.details.buynum)+"人购买")])]),t._m(0)]),o("div",{staticClass:"goods-desc"},[o("div",{staticClass:"title"},[t._v("商品详情")]),o("div",{staticClass:"text"},[t._v(" "+t._s(t.details.detail)+" ")])]),o("BuyButton",{attrs:{goodsInfo:t.goodsInfo}})],1)},n=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"tag-box"},[o("div",{staticClass:"icon"},[o("span",{staticClass:"iconfont icon-servicewuyoutuihuanhuo"}),o("span",[t._v("七天退换")])]),o("div",{staticClass:"icon"},[o("span",{staticClass:"iconfont icon-baoyou"}),o("span",[t._v("全国包邮")])]),o("div",{staticClass:"icon"},[o("span",{staticClass:"iconfont icon-pinzhibaozhang"}),o("span",[t._v("品质保证")])])])}],s=(o("b0c0"),o("a9e3"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"buy-button"},[o("div",{staticClass:"buy",on:{click:function(e){t.show=!0}}},[t._v("购买")]),o("van-sku",{attrs:{sku:t.sku,goods:t.goods},on:{"buy-clicked":t.onBuyClicked,"add-cart":t.onAddCartClicked},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)}),a=[],c=(o("ac1f"),o("5319"),o("ade3")),r=o("2241"),u=o("d399"),d={name:"buy-button",components:Object(c["a"])({},r["a"].Component.name,r["a"].Component),props:{goodsInfo:{type:Object,default:function(){return{}}}},data:function(){return{show:!1}},computed:{userName:function(){return this.$store.state.userName},sku:function(){var t={tree:[],price:"1.00",stock_num:341,collection_id:2261,none_sku:!1,hide_stock:!1};return this.goodsInfo.price&&(t.price=this.goodsInfo.price),this.goodsInfo.stock_num&&(t.stock_num=this.goodsInfo.stock_num),this.goodsInfo.collection_id&&(t.collection_id=this.goodsInfo.collection_id),t},goods:function(){var t={picture:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1602520952481&di=077352df679436af79ccd5f9d587a66f&imgtype=0&src=http%3A%2F%2Fa2.att.hudong.com%2F36%2F48%2F19300001357258133412489354717.jpg"};return this.goodsInfo.picture&&(t.picture=this.goodsInfo.picture),t}},destroyed:function(){clearTimeout(this.timer)},methods:{onBuyClicked:function(t){this.onAddCartClicked(t)},onAddCartClicked:function(t){var e=this;if(!this.userName)return Object(u["a"])("未登陆，请先登录"),void(this.timer=setTimeout((function(){e.$router.push("/login")}),1e3));var o={userId:this.userName,goodsId:this.goodsInfo.collection_id,img:this.goodsInfo.picture,count:t.selectedNum,price:this.goodsInfo.price,name:this.goodsInfo.name};this.$api.post("/api/shop/shopcar",o).then((function(t){var o=t.data;0==o.code?e.$router.replace("/message"):console.log("添加购物车失败")}))}}},l=d,f=(o("4916"),o("2877")),p=Object(f["a"])(l,s,a,!1,null,"6ed543ec",null),v=p.exports,h={name:"Details",components:{BuyButton:v},data:function(){return{details:{},goodsInfo:{}}},created:function(){this.getData()},methods:{getData:function(){var t=this,e=this.$route.query;this.$api.get("/api/goods/details?id=".concat(e.id)).then((function(e){var o=e.data;if(0==o.code){t.details=o.data;var i={price:o.data.price,stock_num:Number(o.data.store),collection_id:o.data._id,picture:o.data.img,name:o.data.name};t.goodsInfo=i}}))}}},_=h,g=(o("6bff"),Object(f["a"])(_,i,n,!1,null,"0eb6a1ec",null));e["default"]=g.exports},"3bbe":function(t,e,o){var i=o("861d");t.exports=function(t){if(!i(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},4916:function(t,e,o){"use strict";var i=o("8d3f"),n=o.n(i);n.a},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,o){var i=o("1d80"),n=o("5899"),s="["+n+"]",a=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),r=function(t){return function(e){var o=String(i(e));return 1&t&&(o=o.replace(a,"")),2&t&&(o=o.replace(c,"")),o}};t.exports={start:r(1),end:r(2),trim:r(3)}},"6bff":function(t,e,o){"use strict";var i=o("b7d7"),n=o.n(i);n.a},7156:function(t,e,o){var i=o("861d"),n=o("d2bb");t.exports=function(t,e,o){var s,a;return n&&"function"==typeof(s=e.constructor)&&s!==o&&i(a=s.prototype)&&a!==o.prototype&&n(t,a),t}},"8d3f":function(t,e,o){},a9e3:function(t,e,o){"use strict";var i=o("83ab"),n=o("da84"),s=o("94ca"),a=o("6eeb"),c=o("5135"),r=o("c6b6"),u=o("7156"),d=o("c04e"),l=o("d039"),f=o("7c73"),p=o("241c").f,v=o("06cf").f,h=o("9bf2").f,_=o("58a8").trim,g="Number",m=n[g],b=m.prototype,C=r(f(b))==g,I=function(t){var e,o,i,n,s,a,c,r,u=d(t,!1);if("string"==typeof u&&u.length>2)if(u=_(u),e=u.charCodeAt(0),43===e||45===e){if(o=u.charCodeAt(2),88===o||120===o)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+u}for(s=u.slice(2),a=s.length,c=0;c<a;c++)if(r=s.charCodeAt(c),r<48||r>n)return NaN;return parseInt(s,i)}return+u};if(s(g,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var y,k=function(t){var e=arguments.length<1?0:t,o=this;return o instanceof k&&(C?l((function(){b.valueOf.call(o)})):r(o)!=g)?u(new m(I(e)),o,k):I(e)},N=i?p(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;N.length>w;w++)c(m,y=N[w])&&!c(k,y)&&h(k,y,v(m,y));k.prototype=b,b.constructor=k,a(n,g,k)}},b0c0:function(t,e,o){var i=o("83ab"),n=o("9bf2").f,s=Function.prototype,a=s.toString,c=/^\s*function ([^ (]*)/,r="name";i&&!(r in s)&&n(s,r,{configurable:!0,get:function(){try{return a.call(this).match(c)[1]}catch(t){return""}}})},b7d7:function(t,e,o){},d2bb:function(t,e,o){var i=o("825a"),n=o("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,o={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(o,[]),e=o instanceof Array}catch(s){}return function(o,s){return i(o),n(s),e?t.call(o,s):o.__proto__=s,o}}():void 0)}}]);
//# sourceMappingURL=details.68256544.js.map